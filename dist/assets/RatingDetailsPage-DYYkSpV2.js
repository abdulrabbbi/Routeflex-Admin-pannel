import{e as v,d as R,r as i,j as e,L as o}from"./index-DDFCQUB-.js";import{a as j}from"./rating-N1r2bNfy.js";import{a as h}from"./index-ByTCOamh.js";import"./iconBase-BFTLMTgk.js";function k({score:n=0}){return e.jsxDEV("div",{className:"inline-flex items-center gap-0.5",children:Array.from({length:5},(l,t)=>t+1).map(l=>e.jsxDEV("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:l<=n?"#f59e0b":"none",stroke:"#f59e0b",children:e.jsxDEV("path",{strokeWidth:"1.5",d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:19,columnNumber:11},this)},l,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:11,columnNumber:9},this))},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:9,columnNumber:5},this)}function p(n){if(!n)return"-";try{return new Date(n).toLocaleString()}catch{return n}}const V=()=>{const{id:n=""}=v(),l=R(),[t,g]=i.useState(null),[f,d]=i.useState(!0),[u,c]=i.useState(null);i.useEffect(()=>{(async()=>{d(!0),c(null);try{const s=await j(n);g(s)}catch(s){c(s?.response?.data?.message||"Failed to load rating.")}finally{d(!1)}})()},[n]);const m=t?.delivery||null,r=m?._id||"-",x=m?.status||"-",D=m?.createdAt?p(m.createdAt):"-",N=i.useMemo(()=>{const s=t?.fromUser;return s?typeof s=="string"?s:s.email||s._id||"-":"-"},[t]),b=i.useMemo(()=>{const s=t?.toUser;return s?typeof s=="string"?s:s.email||s._id||"-":"-"},[t]),a=i.useMemo(()=>{const s=t?.toUser;return s&&typeof s!="string"?{rating:typeof s.rating=="number"?s.rating:void 0,ratingCount:typeof s.ratingCount=="number"?s.ratingCount:void 0}:{}},[t]);return f?e.jsxDEV("div",{className:"p-6 text-gray-500",children:"Loadingâ€¦"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:87,columnNumber:23},void 0):u?e.jsxDEV("div",{className:"p-6 text-red-500",children:u},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:88,columnNumber:19},void 0):t?e.jsxDEV("div",{className:"p-4 sm:p-6",children:e.jsxDEV("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 space-y-5",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("button",{onClick:()=>l(-1),className:"p-2 rounded-full hover:bg-[#dcfce7] transition-colors","aria-label":"Go back",children:e.jsxDEV(h,{className:"w-5 h-5 text-[#22c55e]"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:102,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:97,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xl font-semibold text-[#1e1e38]",children:"Rating Details"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:104,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:96,columnNumber:11},void 0),e.jsxDEV(o,{to:"/ratings",className:"text-sm text-emerald-600 hover:underline",children:"Back to ratings"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:106,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:95,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxDEV("div",{className:"rounded-xl border p-4",children:[e.jsxDEV("div",{className:"text-sm text-gray-500",children:"Created"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:117,columnNumber:13},void 0),e.jsxDEV("div",{className:"font-medium",children:p(t.createdAt)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:118,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV("div",{className:"text-sm text-gray-500",children:"Score"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:121,columnNumber:15},void 0),e.jsxDEV(k,{score:t.score||0},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:122,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:120,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV("div",{className:"text-sm text-gray-500",children:"Comments"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:126,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:t.comments||t.commentsPreview||"-"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:127,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:125,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-4 text-sm text-gray-500",children:t.isAnonymous?"Submitted anonymously":"User visible"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:132,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:116,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid gap-4",children:[e.jsxDEV("div",{className:"rounded-xl border p-4",children:[e.jsxDEV("div",{className:"text-sm text-gray-500",children:"Delivery"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:141,columnNumber:15},void 0),e.jsxDEV("div",{className:"font-mono text-sm break-all",children:r},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:142,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-3 text-sm",children:[e.jsxDEV("div",{className:"text-gray-500",children:"Status"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:145,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-gray-800",children:x},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:146,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:144,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-3 text-sm",children:[e.jsxDEV("div",{className:"text-gray-500",children:"Created"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:150,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-gray-800",children:D},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:151,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:149,columnNumber:15},void 0),r!=="-"&&e.jsxDEV("div",{className:"mt-4",children:e.jsxDEV(o,{to:`/parcel-tracking?delivery=${r}`,className:"inline-flex items-center rounded-md bg-gray-900 px-3 py-2 text-white hover:opacity-90 text-sm",children:"Open delivery"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:156,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:155,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:140,columnNumber:13},void 0),e.jsxDEV("div",{className:"rounded-xl border p-4",children:[e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("div",{className:"text-gray-500",children:"From"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:170,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-gray-800 break-all",children:N},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:171,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:169,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("div",{className:"text-gray-500",children:"To"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:174,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-gray-800 break-all",children:b},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:175,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:173,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:168,columnNumber:15},void 0),a.rating!==void 0||a.ratingCount!==void 0?e.jsxDEV("div",{className:"mt-4 grid grid-cols-2 gap-3 text-sm",children:["rating"in a&&e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-gray-500",children:"Recipient rating"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:183,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-gray-800",children:a.rating},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:184,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:182,columnNumber:21},void 0),"ratingCount"in a&&e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-gray-500",children:"Ratings received"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:189,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-gray-800",children:a.ratingCount},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:190,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:188,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:180,columnNumber:17},void 0):null]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:167,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:138,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:114,columnNumber:9},void 0),e.jsxDEV("div",{className:"pt-2 flex items-center justify-end gap-2",children:[e.jsxDEV(o,{to:`/ratings/${t._id}`,className:"inline-flex items-center rounded-md border px-3 py-2 text-sm hover:bg-gray-50",children:"Permalink"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:201,columnNumber:11},void 0),r!=="-"&&e.jsxDEV(o,{to:`/parcel-tracking?delivery=${r}`,className:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-2 text-white hover:bg-emerald-700 text-sm",children:"Go to delivery"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:208,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:200,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:93,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:92,columnNumber:5},void 0):e.jsxDEV("div",{className:"p-6 text-gray-500",children:"Not found."},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/RatingDetailsPage.tsx",lineNumber:89,columnNumber:23},void 0)};export{V as default};
