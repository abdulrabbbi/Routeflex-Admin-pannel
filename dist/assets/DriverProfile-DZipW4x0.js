import{r as s,R as E,j as e,e as A,b as S,d as L,n as V}from"./index-DDFCQUB-.js";import{d as M,c as H,r as Y,v as I,e as $}from"./deliveryService-DaazW6EG.js";import{D as F,h as g,A as U}from"./DriverDocuments-DsB5g-Sm.js";import{A as K}from"./index-BxU1EsR_.js";import{K as z,O,X as T,Y as P,N as G,R as _,Q as B,U as W,a2 as C}from"./generateCategoricalChart-o1FS4IYD.js";import{b as X}from"./index-CG-hCczj.js";import{T as Q}from"./Skeleton-D6hoDHFB.js";import{E as Z}from"./EmptyStateRow-DnQyE9Zp.js";import{I as q}from"./index-DSxBz7PK.js";import{G as J}from"./GoogleTrackingMap-2klPXzHZ.js";import{C as ee}from"./ConfirmModal-uZavRhhf.js";import{x as re}from"./index-CtE0lt8R.js";import"./s3-cbPBZTLb.js";import"./iconBase-BFTLMTgk.js";import"./leaflet-DHXD0kNQ.js";import"./index-CUEGGqui.js";var ie=z({chartName:"LineChart",GraphicalChild:O,axisComponents:[{axisType:"xAxis",AxisComp:T},{axisType:"yAxis",AxisComp:P}],formatAxisMap:G});function ne({children:i,className:r="",defaultValue:t,value:d,onValueChange:l}){const[u,f]=s.useState(t||""),v=d??u,n=a=>{l?l(a):f(a)},o=E.Children.map(i,a=>E.cloneElement(a,{activeValue:v,onChange:n}));return e.jsxDEV("div",{className:r,children:o},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/ui/shared/Tabs.tsx",lineNumber:47,columnNumber:10},this)}function se({children:i,className:r="",activeValue:t,onChange:d}){return e.jsxDEV("div",{className:`flex border-b ${r}`,children:E.Children.map(i,l=>E.cloneElement(l,{activeValue:t,onChange:d}))},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/ui/shared/Tabs.tsx",lineNumber:57,columnNumber:5},this)}function w({value:i,children:r,activeValue:t,onChange:d}){const l=t===i;return e.jsxDEV("button",{onClick:()=>d&&d(i),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:r},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/ui/shared/Tabs.tsx",lineNumber:73,columnNumber:5},this)}function R({value:i,children:r,activeValue:t,className:d=""}){return t!==i?null:e.jsxDEV("div",{className:d,children:r},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/ui/shared/Tabs.tsx",lineNumber:93,columnNumber:10},this)}const oe=()=>{const{id:i}=A(),[r,t]=s.useState(null),[d,l]=s.useState(!1);s.useEffect(()=>{i&&(async o=>{try{l(!0);const a=await M(o);t(a?.data)}catch(a){g(a,"Failed to fetch driver details")}finally{l(!1)}})(i)},[i]);function u(n){if(!n)return"â€”";const o=/countryISOCode:\s*([A-Z]{2}),\s*countryCode:\s*([+\d]+),\s*number:\s*(\d+)/,a=n.match(o);if(!a)return n;const[,D,j,h]=a;return`${j} ${h} (${D})`}if(d)return e.jsxDEV("p",{children:"Loading..."},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:90,columnNumber:25},void 0);if(!r)return e.jsxDEV("p",{children:"No driver found"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:91,columnNumber:25},void 0);const{user:f}=r,v=n=>new Date(n).toLocaleDateString("en-GB");return e.jsxDEV("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:e.jsxDEV("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-[#22c55e]",children:"ðŸ“§"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:118,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Email"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:120,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium break-all",children:r.user.email},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:121,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:119,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:117,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-[#22c55e]",children:"ðŸ“ž"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:125,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Phone"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:127,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:u(r.user.phone)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:128,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:126,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:124,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-[#22c55e]",children:"ðŸ“…"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:132,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Date of Birth"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:134,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:v(r.user.dateOfBirth)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:135,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:133,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:131,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-[#22c55e]",children:"ðŸ“"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:141,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Address"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:143,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:[r.user.address.street,", ",r.user.address.city,","," ",r.user.address.postCode,","," ",r.user.address.country]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:144,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:142,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:140,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:116,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Rating"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:157,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex text-yellow-400",children:Array.from({length:Math.floor(r.user.rating||0)},(n,o)=>e.jsxDEV(K,{},o,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:163,columnNumber:45},void 0))},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:159,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-sm text-gray-600",children:["(",r.user.ratingCount," reviews)"]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:167,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:158,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:156,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:155,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-[#22c55e]",children:"â°"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:174,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Member Since"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:176,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:v(r.user.createdAt)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:177,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:175,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:173,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-[#22c55e]",children:"ðŸšš"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:183,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Vehicle"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:185,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:[(r.user.vehicle.make||"Unknown")+" "+(r.user.vehicle.model||"")," ","(",r.user.vehicle.year,") - ",r.user.vehicle.color]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:186,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:["Plate: ",r.user.vehicle.licensePlate]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:192,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:184,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:182,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:154,columnNumber:17},void 0),e.jsxDEV(F,{documents:f.documents},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:198,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg border",children:[e.jsxDEV("div",{className:"bg-[#f0fdf4] px-4 py-3 border-b",children:e.jsxDEV("h3",{className:"font-semibold text-[#22c55e] flex items-center gap-2",children:"ðŸ’³ Payment Details"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:201,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:200,columnNumber:21},void 0),e.jsxDEV("div",{className:"p-4",children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Account Holder"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:208,columnNumber:33},void 0),e.jsxDEV("p",{className:"font-medium",children:r.user.paymentDetails.accountHolderName},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:209,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:207,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Bank Name"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:214,columnNumber:33},void 0),e.jsxDEV("p",{className:"font-medium",children:r.user.paymentDetails.bankName},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:215,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:213,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Account Number"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:218,columnNumber:33},void 0),e.jsxDEV("p",{className:"font-medium",children:r.user.paymentDetails.accountNumber},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:219,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:217,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Sort Code"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:224,columnNumber:33},void 0),e.jsxDEV("p",{className:"font-medium",children:r.user.paymentDetails.sortCode},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:225,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:223,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:206,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:205,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:199,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:114,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverOverview.tsx",lineNumber:112,columnNumber:9},void 0)},te=()=>{const{id:i}=A(),[r,t]=s.useState(null),[d,l]=s.useState(!0);if(s.useEffect(()=>{(async()=>{try{if(!i)return;l(!0);const v=await C(i);t(v)}catch(v){console.error("Error fetching driver performance:",v)}finally{l(!1)}})()},[i]),d)return e.jsxDEV("div",{children:"Loading performance data..."},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:40,columnNumber:23},void 0);if(!r)return e.jsxDEV("div",{children:"No performance data available."},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:41,columnNumber:23},void 0);const u=[{label:"Assigned",value:r.headerCards.assigned},{label:"In Progress",value:r.headerCards.inProgress},{label:"Completed",value:r.headerCards.completed},{label:"Revenue",value:`$${r.headerCards.revenue}`},{label:"Avg Rating",value:r.headerCards.avgRating},{label:"Acceptance Rate",value:`${r.headerCards.acceptanceRate}%`},{label:"Cancellation Rate",value:`${r.headerCards.cancellationRate}%`}];return e.jsxDEV("div",{className:"p-6 space-y-8",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:"Driver Performance Overview"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:55,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:u.map(f=>e.jsxDEV("div",{className:"bg-gray-100 rounded-lg p-4 shadow-sm hover:shadow-md transition",children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:f.label},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:64,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xl font-semibold",children:f.value},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:65,columnNumber:13},void 0)]},f.label,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:60,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:58,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsxDEV("h3",{className:"text-lg font-medium mb-4",children:"Deliveries Over Time"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:72,columnNumber:9},void 0),r.overview?.series?.length>0?e.jsxDEV(_,{width:"100%",height:300,children:e.jsxDEV(ie,{data:r.overview.series,children:[e.jsxDEV(B,{strokeDasharray:"3 3"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:76,columnNumber:15},void 0),e.jsxDEV(T,{dataKey:"date"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:77,columnNumber:15},void 0),e.jsxDEV(P,{},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:78,columnNumber:15},void 0),e.jsxDEV(W,{},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:79,columnNumber:15},void 0),e.jsxDEV(O,{type:"monotone",dataKey:"count",stroke:"#2563eb",strokeWidth:2,activeDot:{r:6}},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:80,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:75,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:74,columnNumber:11},void 0):e.jsxDEV("p",{className:"text-gray-500 text-sm",children:"No delivery data available."},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:90,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:71,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsxDEV("h3",{className:"text-lg font-medium mb-2",children:"On-Time Delivery Rate"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:96,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-blue-600",children:[r.overview.onTimeRate,"%"]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:97,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:95,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/PerformanceTab.tsx",lineNumber:54,columnNumber:5},void 0)},le=i=>i?new Date(i).toLocaleString():"â€”",de=({selectedDelivery:i,setSelectedDelivery:r})=>{if(!i)return null;const t=i.route||{};return e.jsxDEV("div",{className:"fixed inset-0 z-[999]",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-black/40",onClick:()=>r(null)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:32,columnNumber:7},void 0),e.jsxDEV("div",{className:"absolute right-0 top-0 h-full w-full max-w-[720px] bg-white shadow-2xl rounded-l-2xl overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between border-b px-6 py-4 sticky top-0 bg-white z-10",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-800",children:["Delivery Details â€” ",i._id?.slice(-6).toUpperCase()]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:41,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>r(null),className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsxDEV(q,{size:20},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:48,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:44,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:40,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6 space-y-6 text-sm text-gray-700",children:[e.jsxDEV("div",{className:"border rounded-xl p-5 shadow-sm space-y-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"General Info"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:56,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("p",{children:[e.jsxDEV("span",{className:"font-medium",children:"Status:"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:61,columnNumber:17},void 0)," ",i.status]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:60,columnNumber:15},void 0),e.jsxDEV("p",{children:[e.jsxDEV("span",{className:"font-medium",children:"Payment:"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:65,columnNumber:17},void 0)," ",i.paymentStatus]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:64,columnNumber:15},void 0),e.jsxDEV("p",{children:[e.jsxDEV("span",{className:"font-medium",children:"Distance:"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:69,columnNumber:17},void 0)," ",t.distance?.toFixed(2)||"-"," km"]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:68,columnNumber:15},void 0),e.jsxDEV("p",{children:[e.jsxDEV("span",{className:"font-medium",children:"Created At:"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:73,columnNumber:17},void 0)," ",le(i.createdAt)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:72,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:59,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:55,columnNumber:11},void 0),e.jsxDEV("div",{className:"border rounded-xl p-5 shadow-sm space-y-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Route Info"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:81,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("p",{children:[e.jsxDEV("span",{className:"font-medium",children:"Package:"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:86,columnNumber:17},void 0)," ",t.packageCategory||"-"]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:85,columnNumber:15},void 0),e.jsxDEV("p",{children:[e.jsxDEV("span",{className:"font-medium",children:"Vehicle:"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:90,columnNumber:17},void 0)," ",t.vehicleType||"Unknown"]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:84,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:80,columnNumber:11},void 0),e.jsxDEV("div",{className:"border rounded-xl p-5 shadow-sm",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Additional Details"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:98,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"More details (like pickup, dropoff, or performance metrics) can be displayed here if available in the data."},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:101,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:97,columnNumber:11},void 0),e.jsxDEV("div",{className:"pt-3",children:e.jsxDEV("button",{onClick:()=>r(null),className:"w-full sm:w-auto px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Close"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:109,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:108,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:53,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:38,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverDrawer.tsx",lineNumber:30,columnNumber:5},void 0)},y=10,me=()=>{const{id:i}=A(),[r,t]=s.useState(null),[d,l]=s.useState(!0),[u,f]=s.useState(null);s.useEffect(()=>{(async()=>{try{if(!i)return;l(!0);const o=await C(i);t(o)}catch(o){console.error("Error fetching driver history:",o)}finally{l(!1)}})()},[i]);const v=s.useMemo(()=>{if(d||!r?.recent)return[];const n=Math.max(y-r.recent.length,0);return[...r.recent,...Array.from({length:n}).map(()=>({}))]},[r,d]);return e.jsxDEV("div",{className:"w-full bg-white rounded-2xl border shadow-sm p-4",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:"Recent Deliveries"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:40,columnNumber:7},void 0),e.jsxDEV("table",{className:"w-full text-sm border-collapse",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{className:"bg-[#f0fdf4] text-[#22c55e] text-xs uppercase",children:[e.jsxDEV("th",{className:"px-3 py-3 text-left w-[15%]",children:"Delivery ID"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:45,columnNumber:13},void 0),e.jsxDEV("th",{className:"px-3 py-3 text-left w-[20%]",children:"Package"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:46,columnNumber:13},void 0),e.jsxDEV("th",{className:"px-3 py-3 text-left w-[15%]",children:"Payment"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:47,columnNumber:13},void 0),e.jsxDEV("th",{className:"px-3 py-3 text-left w-[15%]",children:"Status"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:48,columnNumber:13},void 0),e.jsxDEV("th",{className:"px-3 py-3 text-left w-[25%]",children:"Completed At"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:49,columnNumber:13},void 0),e.jsxDEV("th",{className:"px-3 py-3 text-center w-[10%]",children:"Action"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:44,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:43,columnNumber:9},void 0),d?e.jsxDEV(Q,{rows:y,columns:6},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:55,columnNumber:11},void 0):!r?.recent||r.recent.length===0?e.jsxDEV("tbody",{children:e.jsxDEV(Z,{colSpan:6,title:"No recent deliveries found",hint:"Driver has no recent completed or active deliveries."},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:58,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:57,columnNumber:11},void 0):e.jsxDEV("tbody",{className:"divide-y divide-gray-100",children:v.map((n,o)=>{if(!n||!n._id)return e.jsxDEV("tr",{children:Array.from({length:6}).map((D,j)=>e.jsxDEV("td",{className:"px-3 py-4",children:e.jsxDEV("div",{className:"h-4 w-24 bg-gray-50 rounded"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:72,columnNumber:25},void 0)},j,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:71,columnNumber:23},void 0))},`pad-${o}`,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:69,columnNumber:19},void 0);const a=`#${(n._id||"").slice(-6).toUpperCase()}`;return e.jsxDEV("tr",{className:"hover:bg-gray-50 text-gray-700 transition",children:[e.jsxDEV("td",{className:"px-3 py-3 font-semibold text-gray-900 cursor-pointer",onClick:()=>f(n),children:a},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:83,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-3 py-3 break-words",children:n.route?.packageCategory||"-"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:89,columnNumber:19},void 0),e.jsxDEV("td",{className:`px-3 py-3 font-medium ${n.paymentStatus==="pending"?"text-yellow-600":"text-green-600"}`,children:n.paymentStatus},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:90,columnNumber:19},void 0),e.jsxDEV("td",{className:`px-3 py-3 font-medium ${n.status==="completed"?"text-green-600":n.status==="assigned"?"text-blue-600":"text-gray-600"}`,children:n.status},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:96,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-3 py-3 whitespace-nowrap",children:n.completedAt?new Date(n.completedAt).toLocaleDateString():"-"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:106,columnNumber:19},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-center",children:e.jsxDEV("button",{className:"h-8 w-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-emerald-600",title:"View Details",onClick:()=>f(n),children:e.jsxDEV(X,{size:16},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:115,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:110,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:109,columnNumber:19},void 0)]},n._id,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:82,columnNumber:17},void 0)})},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:65,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:42,columnNumber:7},void 0),u&&e.jsxDEV(de,{selectedDelivery:u,setSelectedDelivery:f},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:126,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverHistoryTab.tsx",lineNumber:39,columnNumber:5},void 0)},ae=({driverTrackingId:i})=>{const[r,t]=s.useState([]),[d,l]=s.useState(null),[u,f]=s.useState({}),[v,n]=s.useState(null),o=S(),a=s.useRef(null),D=s.useMemo(()=>i?.trim().toUpperCase()||"",[i]),j=s.useCallback(async()=>{if(D)try{a.current=null,t([]);const h=await H(D),[N,m]=h.currentLocation.coordinates,b=await Y(m,N);t([[m,N]]),l({lat:m,lng:N,address:b}),o&&o.emit("tracking:subscribe",{driverTrackingId:D},p=>{p?.ok&&p.latest?.driverId?n(p.latest.driverId):o.emit("tracking:latest",{driverTrackingId:D},c=>{c?.ok&&c.latest?.driverId&&n(c.latest.driverId)})})}catch(h){console.error("Failed to fetch driver tracking:",h)}},[D,o]);return s.useEffect(()=>{D&&j()},[D,j]),s.useEffect(()=>{if(!o)return;const h=m=>{const b=m?.coordinates||m?.location?.coordinates||m?.currentLocation?.coordinates||m?.coords;if(Array.isArray(b)&&b.length===2)return b},N=async m=>{if(!v||m?.driverId&&m.driverId!==v)return;const b=h(m);if(!b)return;const[p,c]=b,k=m?.at&&new Date(m.at).toISOString()||`${c},${p}`;if(a.current!==k){a.current=k,t(x=>[...x,[c,p]]),l(x=>({lat:c,lng:p,address:x?.address||"Updating..."})),f({speedKph:typeof m?.speedKph=="number"?m.speedKph:void 0,headingDeg:typeof m?.headingDeg=="number"?m.headingDeg:void 0,at:k});try{const x=await Y(c,p);l({lat:c,lng:p,address:x})}catch{l(x=>({lat:c,lng:p,address:x?.address||"Unknown"}))}}};return o.on("tracking:update",N),o.on("location:driver",N),()=>{o.off("tracking:update",N),o.off("location:driver",N)}},[o,v]),e.jsxDEV("div",{className:"w-full bg-white rounded-2xl border shadow-sm p-4",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:"Live Location"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:118,columnNumber:7},void 0),d?e.jsxDEV("div",{className:"relative rounded-2xl overflow-hidden shadow-lg h-[70vh]",children:[e.jsxDEV(J,{route:r,currentLocation:d},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:125,columnNumber:13},void 0),e.jsxDEV("div",{className:"absolute bottom-4 left-4 flex flex-wrap gap-3 z-[999]",children:[e.jsxDEV("div",{className:"bg-white/90 backdrop-blur-sm p-3 rounded-xl shadow text-center min-w-[120px]",children:[e.jsxDEV("div",{className:"text-xs text-gray-500",children:"Speed"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:133,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-lg font-semibold text-gray-800",children:u.speedKph?`${u.speedKph} km/h`:"â€”"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:134,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:132,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white/90 backdrop-blur-sm p-3 rounded-xl shadow text-center min-w-[120px]",children:[e.jsxDEV("div",{className:"text-xs text-gray-500",children:"Heading"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:139,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-lg font-semibold text-gray-800",children:u.headingDeg?`${u.headingDeg}Â°`:"â€”"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:140,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:138,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white/90 backdrop-blur-sm p-3 rounded-xl shadow text-center min-w-[120px]",children:[e.jsxDEV("div",{className:"text-xs text-gray-500",children:"Last Update"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:145,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-lg font-semibold text-gray-800",children:u.at?new Date(u.at).toLocaleTimeString():"â€”"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:146,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:144,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:131,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:123,columnNumber:9},void 0):e.jsxDEV("p",{className:"text-gray-600",children:"Fetching live driver location..."},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:121,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/driver-profile/DriverLocationTab.tsx",lineNumber:117,columnNumber:5},void 0)},ce=()=>{const{id:i}=A(),[r,t]=s.useState(null),[d,l]=s.useState(!0),[u,f]=s.useState(!1),[v,n]=s.useState("overview"),[o,a]=s.useState(null),[D,j]=s.useState(!1),h=L();s.useEffect(()=>{i&&(async k=>{try{l(!0);const x=await M(k);t(x?.data)}catch(x){g(x,"Failed to fetch driver details")}finally{l(!1)}})(i)},[i]);const N=async c=>{if(c){f(!0);try{await I(c),V.success("Driver verified successfully!");const k=await M(c);t(k?.data)}catch(k){g(k,"Failed to verify driver")}finally{f(!1)}}},m=c=>{a(c),j(!0)},b=async()=>{if(o)try{await $(o),V.success("Driver deleted!"),h(-1)}catch(c){g(c,"Failed to delete driver")}};if(d)return e.jsxDEV("p",{children:"Loading driver profile..."},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:73,columnNumber:23},void 0);if(!r)return e.jsxDEV("p",{children:"No driver found"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:74,columnNumber:23},void 0);const p=r.user;return e.jsxDEV("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[e.jsxDEV("div",{className:"flex flex-col items-center text-center",children:[e.jsxDEV(U,{value:p?.profilePicture,className:"w-32 h-32 rounded-full object-cover border-2 border-green-500"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:82,columnNumber:9},void 0),e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900 mt-4",children:[p?.firstName," ",p?.lastName]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:88,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:["Driver ID: ",p?.driverTrackingId]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:94,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-5",children:[e.jsxDEV("div",{className:"mt-3",children:p?.isVerified?e.jsxDEV("button",{disabled:!0,title:"Already Verified",className:"px-4 py-2 text-sm rounded-full bg-green-100 text-green-600 cursor-not-allowed",children:"Verified"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:100,columnNumber:15},void 0):e.jsxDEV("button",{onClick:()=>i&&N(i),disabled:u,className:"px-4 py-2 rounded-full text-sm bg-[#22c55e] text-white hover:bg-green-400 disabled:opacity-70",children:u?"Verifying...":"Verify Docs"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:108,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:98,columnNumber:11},void 0),e.jsxDEV("div",{className:"bg-blue-100 text-blue-600 px-4 py-2 rounded-full mt-3 cursor-not-allowed",title:"driver Status",children:p?.driverStatus},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:117,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>i&&m(i),className:"px-4 py-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 mt-3",title:"Delete Driver",children:e.jsxDEV(re,{size:25},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:123,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:118,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:96,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:81,columnNumber:7},void 0),e.jsxDEV(ne,{value:v,onValueChange:n,className:"w-full mt-6",children:[e.jsxDEV(se,{className:"grid w-full grid-cols-4",children:[e.jsxDEV(w,{value:"overview",children:"Overview"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:131,columnNumber:11},void 0),e.jsxDEV(w,{value:"performance",children:"Performance"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:132,columnNumber:11},void 0),e.jsxDEV(w,{value:"history",children:"History"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:133,columnNumber:11},void 0),e.jsxDEV(w,{value:"location",children:"Location"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:134,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:130,columnNumber:9},void 0),e.jsxDEV(R,{value:"overview",className:"mt-4",children:e.jsxDEV(oe,{},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:138,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:137,columnNumber:9},void 0),e.jsxDEV(R,{value:"performance",className:"mt-4",children:e.jsxDEV(te,{},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:142,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:141,columnNumber:9},void 0),e.jsxDEV(R,{value:"history",className:"mt-4",children:e.jsxDEV(me,{},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:146,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:145,columnNumber:9},void 0),e.jsxDEV(R,{value:"location",className:"mt-4",children:e.jsxDEV(ae,{driverTrackingId:p?.driverTrackingId},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:150,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:149,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:129,columnNumber:7},void 0),e.jsxDEV(ee,{isOpen:D,onClose:()=>j(!1),onConfirm:b,title:"Delete Driver",message:"Are you sure you want to delete this driver?"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:155,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/components/drivers/DriverProfileOverview.tsx",lineNumber:79,columnNumber:5},void 0)};function Me(){const{id:i}=A();return e.jsxDEV("main",{className:"min-h-screen bg-background p-6",children:i?e.jsxDEV(ce,{},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/DriverProfile.tsx",lineNumber:10,columnNumber:13},this):e.jsxDEV("p",{children:"Driver ID not found"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/DriverProfile.tsx",lineNumber:10,columnNumber:41},this)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/DriverProfile.tsx",lineNumber:9,columnNumber:5},this)}export{Me as default};
