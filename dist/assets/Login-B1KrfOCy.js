import{d as j,r as l,j as e,y as m}from"./index-DDFCQUB-.js";import{E as A,F as v,G as k,H as y}from"./index-CtE0lt8R.js";import{I as w}from"./index-CUEGGqui.js";import{L}from"./authService-BHg48wwY.js";import"./iconBase-BFTLMTgk.js";const E={email:"",password:"",remember:!1},x=d=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.trim()),C=()=>{const d=j(),[s,N]=l.useState(E),[c,f]=l.useState(!1),[r,b]=l.useState(!1),g=l.useMemo(()=>!c&&x(s.email)&&s.password.trim().length>=1,[c,s.email,s.password]),p=l.useCallback(n=>{const{name:t,type:i,checked:o,value:a}=n.target;N(u=>({...u,[t]:i==="checkbox"?o:a}))},[]),D=n=>{const t=n;return t?.response?.data?.message||t?.message||"Login failed. Please try again."},h=async n=>{if(n.preventDefault(),!g)return;f(!0);const t=m.loading("Signing you in…");try{const i=await L({email:s.email.trim(),password:s.password}),o=i?.data?.token,a=i?.data?.data?.user;if(!o||!a)throw new Error("Malformed login response");localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(a));const u=s.remember?localStorage:sessionStorage;u.setItem("token",o),u.setItem("user",JSON.stringify(a)),m.update(t,{render:"Login successful! Redirecting…",type:"success",isLoading:!1,autoClose:1500,closeOnClick:!0}),d("/",{replace:!0})}catch(i){const o=D(i);m.update(t,{render:o,type:"error",isLoading:!1,autoClose:3e3,closeOnClick:!0})}finally{f(!1)}};return e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:e.jsxDEV("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-3xl font-bold",children:e.jsxDEV("img",{src:w.Logo,alt:"Logo",className:"mx-auto h-10"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:106,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:105,columnNumber:11},void 0),e.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to your account to continue"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:108,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:104,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-8 bg-white py-8 px-4 shadow-sm rounded-lg sm:px-10",children:e.jsxDEV("form",{className:"space-y-6",onSubmit:h,noValidate:!0,children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"email",className:"block text-sm font-medium text-[#1e1e38]",children:"Email Address"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:117,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-1 relative rounded-lg",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxDEV(A,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:125,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:124,columnNumber:17},void 0),e.jsxDEV("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,inputMode:"email",className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#22c55e] focus:border-transparent",placeholder:"you@example.com",value:s.email,onChange:p,"aria-invalid":s.email.length>0&&!x(s.email)?!0:void 0},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:127,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:123,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium text-[#1e1e38]",children:"Password"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:149,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-1 relative rounded-lg",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxDEV(v,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:157,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:156,columnNumber:17},void 0),e.jsxDEV("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,className:"block w-full pl-10 pr-10 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#22c55e] focus:border-transparent",placeholder:"Enter your password",value:s.password,onChange:p},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:159,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:()=>b(n=>!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":r?"Hide password":"Show password",title:r?"Hide password":"Show password",children:r?e.jsxDEV(k,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:178,columnNumber:21},void 0):e.jsxDEV(y,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:180,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:170,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:155,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:148,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("label",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{id:"remember",name:"remember",type:"checkbox",className:"h-4 w-4 text-[#22c55e] focus:ring-[#22c55e] border-gray-300 rounded",checked:s.remember,onChange:p},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:189,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-gray-600",children:"Remember me"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:197,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:188,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",className:"text-sm font-medium text-[#22c55e] hover:text-[#1ea550]",onClick:()=>m.info("Password reset coming soon.",{autoClose:2e3}),children:"Forgot your password?"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:200,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:187,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",disabled:!g,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-[#22c55e] hover:bg-[#1ea550] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#22c55e] disabled:opacity-60 disabled:cursor-not-allowed",children:c?"Signing in…":"Sign in"},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:212,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:114,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:113,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:103,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Desktop/MY projects/Routeflex-Admin-pannel/src/pages/Auth/Login.tsx",lineNumber:102,columnNumber:5},void 0)};export{C as default};
